<div class="github-profile-section section" style="margin: 3em 0; padding: 2em; background: #ffffff; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); border: 1px solid #e9ecef;">
  <div class="section-header section-item">
    <h2 style="text-align: center; color: #2c3e50; margin-bottom: 2em;">
      <i class="fa fa-github"></i> GitHub Profile
    </h2>
  </div>
  
  <!-- GitHub Contributions Chart (Bar Chart) -->
  <div class="github-contributions section-item" style="margin-bottom: 3em; text-align: center;">
    <h3 style="color: #2c3e50; margin-bottom: 1.5em; font-size: 1.2em; font-weight: 600;">
      Contribution Activity
    </h3>
    <div style="background: #f8f9fa; padding: 2em; border-radius: 8px; border: 1px solid #e9ecef;">
      <img 
        src="https://ghchart.rshah.org/{{ site.github_username }}" 
        alt="GitHub Contributions Chart"
        style="width: 100%; max-width: 900px; height: auto; border-radius: 4px; display: block; margin: 0 auto;"
        onerror="this.style.display='none'"
      />
    </div>
  </div>
  
  <div id="github-profile" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5em; margin-bottom: 2em;">
    <!-- Profile stats will be loaded here via JavaScript -->
    <div style="text-align: center;" class="section-item">
      <div style="font-size: 1.5em; margin-bottom: 0.5em; color: #666;">
        <i class="fa fa-spinner fa-spin"></i>
      </div>
      <p style="color: #666;">Loading...</p>
    </div>
  </div>
  
  <div style="text-align: center; margin-top: 2em;">
    <a href="https://github.com/{{ site.github_username }}" target="_blank" style="display: inline-block; padding: 0.8em 2em; background: #2c3e50; color: white; text-decoration: none; border-radius: 6px; transition: all 0.3s ease; border: 1px solid #2c3e50;">
      View Full Profile <i class="fa fa-external-link"></i>
    </a>
  </div>
</div>

<script>
(function() {
  const username = '{{ site.github_username }}';
  if (!username) return;
  
  const profileContainer = document.getElementById('github-profile');
  
  // Fetch GitHub profile data
  fetch(`https://api.github.com/users/${username}`)
    .then(r => r.json())
    .then(profile => {
      if (profile.message && profile.message.includes('API rate limit')) {
        profileContainer.innerHTML = `
          <div style="text-align: center; grid-column: 1 / -1; padding: 2em;">
            <p style="font-size: 1em; color: #666;">GitHub API rate limit reached. Please visit my profile directly:</p>
            <a href="https://github.com/${username}" target="_blank" style="color: #2c3e50; text-decoration: underline;">
              github.com/${username}
            </a>
          </div>
        `;
        return;
      }
      
      const stats = [
        {
          icon: 'fa-code-fork',
          label: 'Repositories',
          value: profile.public_repos || 0
        },
        {
          icon: 'fa-users',
          label: 'Followers',
          value: profile.followers || 0
        },
        {
          icon: 'fa-heart',
          label: 'Following',
          value: profile.following || 0
        }
      ];
      
      let statsHTML = stats.map((stat, index) => `
        <div class="section-item" style="text-align: center; padding: 1.5em; background: #f8f9fa; border-radius: 8px; border: 1px solid #e9ecef;">
          <div style="font-size: 2em; color: #2c3e50; margin-bottom: 0.5em;">
            <i class="fa ${stat.icon}"></i>
          </div>
          <div style="font-size: 1.8em; font-weight: bold; margin-bottom: 0.3em; color: #2c3e50;">${stat.value}</div>
          <div style="font-size: 0.9em; color: #666;">${stat.label}</div>
        </div>
      `).join('');
      
      // Animate stats after they're loaded
      setTimeout(() => {
        const statsItems = profileContainer.querySelectorAll('.section-item');
        statsItems.forEach((item, idx) => {
          setTimeout(() => {
            item.classList.add('animate-in');
          }, idx * 150);
        });
      }, 100);
      
      profileContainer.innerHTML = statsHTML;
    })
    .catch(error => {
      console.error('Error fetching GitHub data:', error);
      profileContainer.innerHTML = `
        <div style="text-align: center; grid-column: 1 / -1; padding: 2em;">
          <p style="font-size: 1em; color: #666;">Unable to load GitHub profile. Please visit:</p>
          <a href="https://github.com/${username}" target="_blank" style="color: #2c3e50; text-decoration: underline; font-size: 1.1em;">
            github.com/${username}
          </a>
        </div>
      `;
    });
})();
</script>

