<div class="github-profile-section" style="margin: 3em 0; padding: 2em; background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); border-radius: 16px; box-shadow: 0 8px 24px rgba(0,0,0,0.15); color: white;">
  <h2 style="text-align: center; color: white; margin-bottom: 1.5em;">
    <i class="fa fa-github"></i> GitHub Profile
  </h2>
  
  <!-- GitHub Contributions Graph -->
  <div class="github-contributions" style="margin-bottom: 3em; text-align: center;">
    <h3 style="color: white; margin-bottom: 1em; font-size: 1.3em;">
      <i class="fa fa-calendar"></i> Contribution Activity
    </h3>
    <div style="background: rgba(255,255,255,0.1); padding: 2em; border-radius: 12px; backdrop-filter: blur(10px);">
      <img 
        src="https://github-readme-activity-graph.vercel.app/graph?username={{ site.github_username }}&theme=github-compact&hide_border=true&area=true" 
        alt="GitHub Activity Graph"
        style="width: 100%; max-width: 100%; height: auto; border-radius: 8px;"
        onerror="this.style.display='none'"
      />
    </div>
    <div style="margin-top: 2em;">
      <img 
        src="https://github-readme-streak-stats.herokuapp.com/?user={{ site.github_username }}&theme=github-dark&hide_border=true" 
        alt="GitHub Streak Stats"
        style="width: 100%; max-width: 600px; height: auto; border-radius: 8px;"
        onerror="this.style.display='none'"
      />
    </div>
    <div style="margin-top: 1.5em;">
      <img 
        src="https://ghchart.rshah.org/{{ site.github_username }}" 
        alt="GitHub Contributions Chart"
        style="width: 100%; max-width: 800px; height: auto; border-radius: 8px; background: rgba(255,255,255,0.05); padding: 1em;"
        onerror="this.style.display='none'"
      />
    </div>
  </div>
  
  <div id="github-profile" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2em;">
    <!-- Profile will be loaded here via JavaScript -->
    <div style="text-align: center;">
      <div style="font-size: 2em; margin-bottom: 0.5em;">
        <i class="fa fa-spinner fa-spin"></i>
      </div>
      <p>Loading GitHub profile...</p>
    </div>
  </div>
  
  <div style="text-align: center; margin-top: 2em;">
    <a href="https://github.com/{{ site.github_username }}" target="_blank" style="display: inline-block; padding: 0.8em 2em; background: rgba(255,255,255,0.2); color: white; text-decoration: none; border-radius: 6px; border: 2px solid white; transition: all 0.3s ease;">
      View Full Profile <i class="fa fa-external-link"></i>
    </a>
  </div>
</div>

<script>
(function() {
  const username = '{{ site.github_username }}';
  if (!username) return;
  
  const profileContainer = document.getElementById('github-profile');
  
  // Fetch GitHub profile data
  Promise.all([
    fetch(`https://api.github.com/users/${username}`).then(r => r.json()),
    fetch(`https://api.github.com/users/${username}/repos?sort=updated&per_page=5`).then(r => r.json())
  ]).then(([profile, repos]) => {
    if (profile.message && profile.message.includes('API rate limit')) {
      profileContainer.innerHTML = `
        <div style="text-align: center; grid-column: 1 / -1; padding: 2em;">
          <p style="font-size: 1.1em;">GitHub API rate limit reached. Please visit my profile directly:</p>
          <a href="https://github.com/${username}" target="_blank" style="color: white; text-decoration: underline;">
            github.com/${username}
          </a>
        </div>
      `;
      return;
    }
    
    const stats = [
      {
        icon: 'fa-code-fork',
        label: 'Repositories',
        value: profile.public_repos || 0,
        color: '#4CAF50'
      },
      {
        icon: 'fa-users',
        label: 'Followers',
        value: profile.followers || 0,
        color: '#2196F3'
      },
      {
        icon: 'fa-heart',
        label: 'Following',
        value: profile.following || 0,
        color: '#E91E63'
      },
      {
        icon: 'fa-star',
        label: 'Total Stars',
        value: repos.reduce((sum, repo) => sum + (repo.stargazers_count || 0), 0),
        color: '#FF9800'
      }
    ];
    
    let statsHTML = stats.map(stat => `
      <div style="text-align: center; padding: 1.5em; background: rgba(255,255,255,0.1); border-radius: 12px; backdrop-filter: blur(10px);">
        <div style="font-size: 2.5em; color: ${stat.color}; margin-bottom: 0.5em;">
          <i class="fa ${stat.icon}"></i>
        </div>
        <div style="font-size: 2em; font-weight: bold; margin-bottom: 0.3em;">${stat.value}</div>
        <div style="font-size: 0.9em; opacity: 0.9;">${stat.label}</div>
      </div>
    `).join('');
    
    let reposHTML = '';
    if (repos && repos.length > 0) {
      reposHTML = `
        <div style="grid-column: 1 / -1; margin-top: 2em;">
          <h3 style="text-align: center; margin-bottom: 1.5em; color: white;">
            <i class="fa fa-code"></i> Recent Repositories
          </h3>
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1em;">
            ${repos.slice(0, 3).map(repo => `
              <div style="padding: 1.5em; background: rgba(255,255,255,0.1); border-radius: 8px; backdrop-filter: blur(10px);">
                <h4 style="margin: 0 0 0.5em 0; color: white;">
                  <a href="${repo.html_url}" target="_blank" style="color: white; text-decoration: none;">
                    <i class="fa fa-code-fork"></i> ${repo.name}
                  </a>
                </h4>
                ${repo.description ? `<p style="font-size: 0.9em; opacity: 0.9; margin: 0.5em 0; line-height: 1.4;">${repo.description.substring(0, 100)}${repo.description.length > 100 ? '...' : ''}</p>` : ''}
                <div style="display: flex; gap: 1.5em; margin-top: 1em; font-size: 0.85em; opacity: 0.8;">
                  ${repo.language ? `<span><i class="fa fa-circle" style="color: #4CAF50;"></i> ${repo.language}</span>` : ''}
                  ${repo.stargazers_count > 0 ? `<span><i class="fa fa-star"></i> ${repo.stargazers_count}</span>` : ''}
                  ${repo.forks_count > 0 ? `<span><i class="fa fa-code-fork"></i> ${repo.forks_count}</span>` : ''}
                </div>
              </div>
            `).join('')}
          </div>
        </div>
      `;
    }
    
    profileContainer.innerHTML = statsHTML + reposHTML;
  }).catch(error => {
    console.error('Error fetching GitHub data:', error);
    profileContainer.innerHTML = `
      <div style="text-align: center; grid-column: 1 / -1; padding: 2em;">
        <p style="font-size: 1.1em;">Unable to load GitHub profile. Please visit:</p>
        <a href="https://github.com/${username}" target="_blank" style="color: white; text-decoration: underline; font-size: 1.2em;">
          github.com/${username}
        </a>
      </div>
    `;
  });
})();
</script>

